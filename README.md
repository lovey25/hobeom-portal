# 호범 포털 (Hobeom Portal)

여러 기능을 통합한 현대적인 웹 포털 플랫폼입니다. Next.js 15, React 19, TypeScript로 구축되었습니다.

## 🚀 주요 기능

### 🌐 퍼블릭 앱 (로그인 불필요)

- **계산기**: 기본적인 사칙연산 계산기
- **메모장**: 로컬 스토리지를 활용한 메모 작성 및 관리
- **날씨**: 샘플 날씨 정보 표시

### 🔐 대시보드 앱 (로그인 필요)

- **여행 준비**: 여행 아이템 관리 및 가방 패킹 최적화
  - 여행별 준비물 체크리스트
  - 가방별 무게/부피 자동 계산
  - 아이템 중요도 및 카테고리 관리
  - 일괄 선택/삭제/이동 기능
  - 미배정 아이템 필터링
- **할일관리**: 개인 할일 관리 시스템
- **파일관리**: 파일 업로드 및 관리
- **데이터분석**: CSV 데이터 분석 도구
- **설정**: 사용자 설정 및 프로필 관리

### 👑 관리자 도구 (관리자 권한 필요)

- **사용자관리**: 사용자 및 권한 관리
- **시스템로그**: 시스템 로그 모니터링

## 🛠️ 기술 스택

- **Frontend**: Next.js 15, React 19, TypeScript
- **Styling**: Tailwind CSS v4
- **Authentication**: JWT with bcrypt
- **Data Storage**: CSV files (확장 가능)
- **Build Tool**: Turbopack

## 📁 프로젝트 구조

```
src/
├── app/                    # Next.js App Router
│   ├── api/               # REST API endpoints
│   ├── dashboard/         # 대시보드 페이지
│   ├── samples/          # 샘플 앱들
│   └── page.tsx          # 랜딩 페이지
├── components/           # 재사용 가능한 컴포넌트
│   ├── ui/              # 기본 UI 컴포넌트
│   └── ...
├── contexts/            # React 컨텍스트 (인증 등)
├── lib/                 # 유틸리티 함수들
├── types/               # TypeScript 타입 정의
└── ...
data/                    # CSV 데이터 파일
├── users.csv           # 사용자 데이터
└── apps.csv           # 앱 설정 데이터
```

## 🚀 시작하기

### 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 시작
npm run dev

# 프로덕션 빌드
npm run build

# 프로덕션 서버 시작
npm start
```

### 테스트 계정

- **관리자**: `admin` / `password`
- **일반사용자**: `user1` / `password`
- **데모사용자**: `demo` / `password`

## 🎯 사용자 흐름

1. **랜딩페이지**: 퍼블릭 앱 아이콘과 로그인 폼 표시
2. **로그인**: JWT 토큰 기반 인증
3. **대시보드**: 개인화된 앱 아이콘 그리드
4. **앱 이용**: 각 기능별 전용 페이지

## 🔧 확장성

이 포털은 모듈식으로 설계되어 새로운 앱을 쉽게 추가할 수 있습니다:

1. `data/apps.csv`에 새 앱 정보 추가
2. `src/app/` 하위에 새 라우트 생성
3. 필요시 API 엔드포인트 추가

## 🔒 보안

- JWT 토큰 기반 인증
- bcrypt 비밀번호 해싱
- 역할 기반 접근 제어 (admin/user)
- 보호된 라우트 미들웨어

## 🎒 여행 준비 앱 상세 기능

### 핵심 기능

1. **여행 관리**

   - 여행 유형별 템플릿 (국내여행, 해외여행, 캠핑 등)
   - 일정 기간 설정 및 관리

2. **아이템 관리**

   - 마스터 아이템 목록 (의류, 전자기기, 세면도구 등)
   - 카테고리별 분류 및 필터링
   - 중요도 레벨 (1~5) 지정
   - 무게(g), 부피(L), 크기(cm) 정보 관리

3. **가방 패킹**

   - 여러 가방 추가 및 관리
   - 가방별 용량(L) 및 최대 무게(kg) 설정
   - 아이템을 가방에 할당
   - 실시간 무게/부피 통계 계산
   - 용량 초과 경고

4. **배치 작업 (성능 최적화)**

   - 여러 아이템 일괄 추가
   - 여러 아이템 일괄 삭제
   - 여러 아이템 일괄 가방 이동
   - CSV 동시 쓰기 문제 해결

5. **편의 기능**
   - 모두 선택/선택 해제
   - 미배정 아이템 필터 (가방에 배정되지 않은 아이템)
   - 준비 완료 체크 기능
   - 수량 조절 (+ / -)
   - 카테고리, 중요도, 준비상태 필터링

### 사용 워크플로우

1. **여행 선택/생성**: 여행 유형 선택 및 기본 정보 입력
2. **아이템 선택**: 마스터 목록에서 필요한 아이템 추가
3. **가방 설정**: 사용할 가방 추가 (용량, 무게 제한 설정)
4. **아이템 배정**: 아이템을 각 가방에 할당
5. **패킹 진행**: 준비 완료 체크하며 진행
6. **통계 확인**: 가방별 무게/부피 실시간 확인

## 📊 데이터 관리

### CSV 기반 데이터 저장소

- `data/*.csv` - 실제 운영 데이터 (Git 제외)
- `data/*.sample.csv` - 샘플 템플릿 (Git 포함)

주요 데이터 파일:

- `users.csv` - 사용자 정보 및 인증
- `apps.csv` - 앱 메타데이터 및 권한
- `travel-items.csv` - 여행 아이템 마스터 목록
- `travel-types.csv` - 여행 유형 템플릿
- `bags.csv` - 가방 정보
- `trip-lists.csv` - 여행 정보
- `trip-items.csv` - 여행별 선택된 아이템

### 자동 초기화

처음 실행 시 실제 CSV 파일이 없으면 샘플 파일로부터 자동 생성됩니다.

```bash
# 개발 환경 초기화 스크립트
bash scripts/init-dev.sh
```

### ⚠️ 보안 주의사항

```bash
# data/*.csv 파일들은 민감한 사용자 정보를 포함하므로
# Git 저장소에 포함되지 않습니다.
# 실제 서버에서는 별도의 백업/보안 정책이 필요합니다.
```

### 확장성

현재는 CSV 파일을 사용하지만, 다음으로 쉽게 확장 가능합니다:

- PostgreSQL, MySQL 등 관계형 DB
- MongoDB 등 NoSQL DB
- Prisma ORM 통합

## 🎨 커스터마이징

- Tailwind CSS v4로 스타일링
- 컴포넌트 기반 UI 설계
- 다크/라이트 테마 지원 준비
- 반응형 디자인

## 🌐 배포

Vercel, Netlify, 또는 기타 Node.js 호스팅 플랫폼에 배포 가능합니다.

환경 변수 설정:

```bash
JWT_SECRET=your-secure-jwt-secret
NODE_ENV=production
```

## 🔄 최근 업데이트 (2025-10-05)

### 여행 준비 앱 개선사항

#### 성능 최적화

- **배치 API 구현**: CSV 동시 쓰기 문제 해결
  - `addTripItemsBatch`: 여러 아이템 한 번에 추가
  - `deleteTripItemsBatch`: 여러 아이템 한 번에 삭제
  - `updateTripItemsBagBatch`: 여러 아이템 가방 일괄 이동
  - 성능: N번 → 1번 CSV 읽기/쓰기로 개선

#### 사용자 경험 개선

- **일괄 선택 기능**: 모든 아이템 한 번에 선택/해제
- **일괄 삭제**: 선택된 여러 아이템 동시 삭제
- **미배정 필터**: 가방에 배정되지 않은 아이템만 표시
- **UI 개선**:
  - 준비물 섹션에 액션 버튼 통합
  - 선택 상태 시각적 피드백 강화
  - 모바일 친화적 버튼 크기

#### 버그 수정

- CSV 동시 쓰기로 인한 데이터 손실 문제 해결
- 멀티 선택 시 일부만 처리되는 문제 수정
- 가방 이동 시 Promise.all 동시 호출 문제 해결

## 🤝 기여

이 프로젝트는 확장 가능하도록 설계되었습니다. 새로운 기능이나 개선사항을 자유롭게 추가해보세요!

## 📝 라이센스

MIT License
